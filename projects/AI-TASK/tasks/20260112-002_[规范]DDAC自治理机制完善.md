# [规范] DDAC 自治理机制完善

**任务编号**: 20260112-002  
**创建时间**: 2026-01-12 11:00:00  
**负责人**: @xuxin  
**状态**: ✅ 已完成  
**优先级**: 🔴 高  
**所属项目**: AI-TASK (AI-TASK)

---

## 📋 任务目标

> 完善 DDAC 自治理机制，让 AI 能够自动理解"何时必须创建任务"，实现真正的文档驱动协作

- [x] P0: 在 SPEC.md 添加"任务沉淀触发条件"
- [x] P1: 在 index.md 模板添加 AI 协作指令块
- [x] P1: 更新 AI-TASK/index.md 作为示范
- [x] P2: 创建 ddac-governance Skill
- [x] P2: 更新 README 说明 DDAC 自治理机制

---

## 📝 背景说明

### 问题根因

用户引入 `@projects/AI-TASK/index.md` 时，AI 未主动沉淀任务文档，原因：

| 问题层级 | 根因 |
|---------|------|
| **规范层缺失** | `index.md` 未明确声明"任务必须沉淀" |
| **索引层模糊** | `projects/AI-TASK/` 自治理含义未显式说明 |
| **工作流层断裂** | 无触发机制告知 AI 何时创建任务 |
| **演进层缺失** | 无反馈闭环 |

### DDAC 核心理念

> "不是教 AI 做事，而是让 AI 学会自己理解规范"

- **自我理解**：AI 读取规范文档，理解工作标准
- **自主执行**：根据规范自动推导执行步骤
- **持续协作**：跨会话保持上下文
- **自我优化**：通过反馈闭环完善规范

### 自治理概念

`projects/{PROJECT}/` 目录 = 项目自己的任务管理空间  
项目代号与目录名相同（如 `projects/AI-TASK/`）= 项目自治

---

## 🔧 实现方案

### P0 - 规范层强化

在 `SPEC.md` 添加任务沉淀触发条件：

```markdown
## 🔄 任务沉淀规则（DDAC 自治理）

### 触发条件（满足任一即创建任务）
1. 用户提出多步骤优化/改进计划
2. 用户使用 `@projects/{PROJECT}/index.md` 引入项目上下文
3. 讨论内容涉及 3+ 个文件修改
4. 用户明确说"梳理"、"规划"、"方案"等关键词

### 自治理原则
- `projects/{PROJECT}/` = 项目自治空间
- 项目代号与目录名相同 = 管理自身任务
- 任务必须沉淀到 `tasks/`，并更新 `index.md`
```

### P1 - 索引层优化

在 `templates/project-index.md` 和 `projects/AI-TASK/index.md` 头部添加：

```markdown
<!-- AI-COLLABORATION-RULES
当你被引入此项目上下文时：
1. 阅读 📋 任务列表 了解当前进度
2. 讨论产生的计划 → 创建 tasks/ 任务文档
3. 任务完成 → 更新 index.md 任务状态
4. 这是项目自治理空间，你是协作者
-->
```

### P2 - 工作流层补充

创建 `skills/ddac-governance/SKILL.md`：

```yaml
---
name: ddac-governance
description: |
  DDAC 自治理技能。
  Use when: 用户引入项目 index.md、讨论优化计划、需要任务沉淀
---
```

### P2 - README 更新

在 README.md 添加 DDAC 自治理说明章节。

---

## 📂 涉及文件

| 文件路径 | 修改类型 | 说明 |
|----------|----------|------|
| `SPEC.md` | 修改 | 添加任务沉淀触发条件 |
| `templates/project-index.md` | 修改 | 添加 AI 协作指令块 |
| `projects/AI-TASK/index.md` | 修改 | 添加 AI 协作指令块（示范） |
| `skills/ddac-governance/SKILL.md` | 新增 | DDAC 自治理技能 |
| `README.md` | 修改 | 添加 DDAC 自治理说明 |

---

## ✅ 验证结果

### 验证清单

- [x] SPEC.md 包含任务沉淀触发条件
- [x] index.md 模板包含 AI 协作指令块
- [x] AI-TASK/index.md 作为示范已更新
- [x] ddac-governance Skill 可正常加载
- [x] README 包含 DDAC 自治理说明

---

## 🔗 关联信息

- **关联任务**: [20260112-001_[规范]v1.2.0开源规范优化](./20260112-001_[规范]v1.2.0开源规范优化.md)
- **参考文档**: [DDAC 方法论](https://github.com/ArnoFrost/DDAC)
- **核心理念**: 文档驱动 AI 协作、四层演进闭环、路书系统

---

## 📊 进度记录

| 时间 | 进度 | 说明 |
|------|------|------|
| 2026-01-12 | 创建任务 | 分析问题根因，制定改进计划 |
| 2026-01-12 | ✅ 完成 | 全部 P0-P2 任务执行完毕 |

---

## 💡 总结与收获

### 完成情况

> 待任务完成后填写

### 经验教训

> 待任务完成后填写

### 后续计划

- 持续优化 DDAC 规范
- 收集 AI 协作反馈，完善触发条件
